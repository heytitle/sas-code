data LABS;
   INPUT BATCH $ VALUE;
   DATALINES;
B1 0.72
B1 6.64
B1 0.64
B1 0.80
B1 2.0
B2 1.04
B2 3.20
B2 1.28
B2 1.60
B2 1.68
B2 1.44
B3 11.44
B3 1.52
B3 8.40
B3 2.40
B3 0.72
B3 0.88
B4 1.52
B4 13.60
B4 18.56
B4 4.40
B4 2.96
B4 3.04
B5 0.64
B5 0.80
B5 0.88
B5 0.72
B5 1.20
B6 2.16
B6 1.60
B6 2.32
B6 2.48
B6 3.68
B6 2.96
B7 8.64
B7 2.08
B7 0.96
B7 1.84
B7 1.20
B7 1.12
B8 1.28
B8 2.32
B8 11.60
B8 4.56
B8 7.76
B8 3.92
;
RUN;

data LABS;
	SET LABS;
	L_VALUE = LOG(VALUE);
RUN;

PROC MIXED DATA=LABS METHOD=TYPE3 CL;
	CLASS BATCH(REF="B1");
	MODEL L_VALUE=  / SOLUTION CL OUTP=PRED;
	RANDOM BATCH;
RUN;

%inc "/folders/myfolders/macro/checkTie.sas";
%checkTie( PRED, RESID);

PROC UNIVARIATE data=PRED NORMALTEST;
	VAR RESID;
RUN;

PROC GLM DATA=PRED;
	CLASS BATCH;
	MODEL RESID = BATCH;
	MEANS BATCH/ HOVTEST=BF;
RUN;

/* Kruskal-Wallis */
PROC NPAR1WAY DATA=LABS WILCOXON;
	CLASS BATCH;
	VAR VALUE;
RUN;
